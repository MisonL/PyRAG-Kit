<div align="center">

# PyRAG-Kit

**Py**thon **R**etrieval-**A**ugmented **G**eneration **Kit**

</div>

<div align="center">

[![Python Version](https://img.shields.io/badge/Python-3.9%2B-blue.svg)](https://www.python.org/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Author: Mison](https://img.shields.io/badge/Author-Mison-brightgreen)](mailto:1360962086@qq.com)

</div>

> **PyRAG-Kit** æ˜¯ä¸€ä¸ª **Dify æ ¸å¿ƒé€»è¾‘çš„ Python å®ç°**ï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªè½»é‡çº§çš„æœ¬åœ°åŒ–å·¥å…·ï¼Œç”¨äºå¿«é€ŸéªŒè¯å’Œç†è§£ Dify çš„çŸ¥è¯†åº“æ ¸å¿ƒå·¥ä½œæµç¨‹ï¼ŒåŒ…æ‹¬æ–‡æ¡£çš„**å‘é‡åŒ–ã€åˆ†æ®µå¤„ç†**ä»¥åŠ**æ··åˆæ£€ç´¢**ç­–ç•¥ã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **ğŸ”Œ å¤šæ¨¡å‹æ”¯æŒ**: æ— ç¼é›†æˆå¤šç§ä¸»æµå’Œæœ¬åœ°å¤§è¯­è¨€æ¨¡å‹ï¼ŒåŒ…æ‹¬ Google Gemini, OpenAI GPT, Anthropic Claude, é˜¿é‡Œäº‘é€šä¹‰åƒé—®, è±†åŒ…, DeepSeek, Grok, ä»¥åŠé€šè¿‡ Ollama æˆ– LM Studio è¿è¡Œçš„æœ¬åœ°æ¨¡å‹ã€‚
- **ğŸš€ é«˜çº§æ£€ç´¢ç­–ç•¥**: æ”¯æŒå‘é‡æ£€ç´¢ã€å…¨æ–‡æ£€ç´¢å’Œæ··åˆæ£€ç´¢ï¼Œå¹¶é€šè¿‡ Rerank æ¨¡å‹äºŒæ¬¡ç²¾æ’ï¼Œæå‡ç­”æ¡ˆç›¸å…³æ€§ã€‚
- **âš™ï¸ åŠ¨æ€äº¤äº’é…ç½®**: è¿è¡Œæ—¶é€šè¿‡ `/config` å‘½ä»¤æ‰“å¼€äº¤äº’å¼èœå•ï¼ŒåŠ¨æ€åˆ‡æ¢LLMã€è°ƒæ•´æ£€ç´¢ç­–ç•¥ã€ä¿®æ”¹æƒé‡ç­‰ã€‚
- **ğŸ“„ æµå¼å“åº”**: å®¢æœå›ç­”é‡‡ç”¨æ‰“å­—æœºæµå¼è¾“å‡ºï¼Œæå‡ç”¨æˆ·äº¤äº’ä½“éªŒã€‚
- **ğŸ“Š Excelæ—¥å¿—**: è‡ªåŠ¨å°†æ¯ä¸€æ¬¡å¯¹è¯çš„è¯¦ç»†ä¿¡æ¯è®°å½•åˆ° Excel æ–‡ä»¶ä¸­ï¼Œä¾¿äºå®¡è®¡å’Œåˆ†æã€‚
- **ğŸ§¹ æ™ºèƒ½ç¼“å­˜ä¸æ¸…ç†**: è‡ªåŠ¨å¤„ç†çŸ¥è¯†åº“å‘é‡åŒ–ï¼Œå¹¶åœ¨ç¨‹åºé€€å‡ºæ—¶æ¸…ç†ç¼“å­˜ï¼Œä¿æŒé¡¹ç›®æ•´æ´ã€‚

## ğŸ“¸ ç¨‹åºæˆªå›¾

*åœ¨è¿™é‡Œå¯ä»¥æ·»åŠ ä¸€å¼ ç¨‹åºè¿è¡Œæ—¶çš„æˆªå›¾ï¼Œä»¥æ›´ç›´è§‚åœ°å±•ç¤ºå…¶æ•ˆæœã€‚*

![image](https://github.com/user-attachments/assets/e479392b-86a1-45f6-809d-37f8c114513d)


## ğŸ“‚ é¡¹ç›®ç»“æ„

é¡¹ç›®é‡‡ç”¨äº†ç°ä»£åŒ–çš„ç›®å½•ç»“æ„ï¼Œå°†æºä»£ç ã€æ•°æ®ã€è„šæœ¬å’Œæ–‡æ¡£æ¸…æ™°åœ°åˆ†ç¦»å¼€æ¥ã€‚

```
.
â”œâ”€â”€ data/                # ç”Ÿæˆçš„æ•°æ® (è¢« .gitignore å¿½ç•¥)
â”‚   â”œâ”€â”€ employee_kb.pkl  # çŸ¥è¯†åº“å‘é‡æ–‡ä»¶
â”‚   â””â”€â”€ logs/            # èŠå¤©æ—¥å¿—
â”œâ”€â”€ knowledge_base/      # å­˜æ”¾ä½ çš„åŸå§‹çŸ¥è¯†åº“ .md æ–‡ä»¶
â”œâ”€â”€ scripts/             # ç‹¬ç«‹è„šæœ¬
â”‚   â””â”€â”€ embed_knowledge_base.py # çŸ¥è¯†åº“å‘é‡åŒ–è„šæœ¬
â”œâ”€â”€ src/                 # æ ¸å¿ƒæºä»£ç 
â”‚   â”œâ”€â”€ chat/            # èŠå¤©æ ¸å¿ƒé€»è¾‘
â”‚   â”œâ”€â”€ providers/       # æ‰€æœ‰æ¨¡å‹æä¾›å•†çš„å®ç°
â”‚   â”œâ”€â”€ retrieval/       # æ£€ç´¢é€»è¾‘
â”‚   â”œâ”€â”€ ui/              # ç”¨æˆ·ç•Œé¢ (èœå•ã€æ˜¾ç¤ºå·¥å…·)
â”‚   â””â”€â”€ utils/           # è¾…åŠ©å·¥å…· (é…ç½®ã€æ¸…ç†)
â”œâ”€â”€ tests/               # (é¢„ç•™) è‡ªåŠ¨åŒ–æµ‹è¯•
â”œâ”€â”€ main.py              # ç¨‹åºä¸»å…¥å£
â”œâ”€â”€ config.ini.example   # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”œâ”€â”€ .gitignore           # Gitå¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ README.md            # å°±æ˜¯ä½ æ­£åœ¨çœ‹çš„è¿™ä¸ªæ–‡ä»¶
â””â”€â”€ requirements.txt     # Pythonä¾èµ–é¡¹
```

## ğŸš€ å®‰è£…ä¸è¿è¡Œ

### 1. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/MisonL/PyRAG-Kit.git
cd PyRAG-Kit
```

### 2. å®‰è£…ä¾èµ–

é¡¹ç›®ä½¿ç”¨ `requirements.txt` ç®¡ç†ä¾èµ–ã€‚

```bash
pip install -r requirements.txt
```

### 3. è¿›è¡Œé…ç½®

é¡¹ç›®ä½¿ç”¨ `config.ini` æ–‡ä»¶è¿›è¡Œé…ç½®ã€‚è¯·å…ˆå¤åˆ¶æ¨¡æ¿æ–‡ä»¶ï¼š

```bash
cp config.ini.example config.ini
```

ç„¶åï¼Œç¼–è¾‘ `config.ini` æ–‡ä»¶ï¼Œå¡«å…¥ä½ éœ€è¦çš„ API å¯†é’¥å’Œè‡ªå®šä¹‰è®¾ç½®ã€‚

```ini
# config.ini

[API_KEYS]
# å¡«å…¥ä½ å¸Œæœ›ä½¿ç”¨çš„æ¨¡å‹çš„API Key
OPENAI_API_KEY = "sk-..."
GOOGLE_API_KEY = "AIzaSy..."
# ... å…¶ä»–API Key

[BEHAVIOR]
# é»˜è®¤ä½¿ç”¨çš„LLMæä¾›å•† (ä¾‹å¦‚: google, openai, anthropic)
DEFAULT_LLM_PROVIDER = google

# ... å…¶ä»–è¡Œä¸ºé…ç½®
```

> **æ³¨æ„**: ä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®**ç¯å¢ƒå˜é‡**æ¥è¦†ç›– `config.ini` ä¸­çš„ `API_KEYS`ï¼Œä¾‹å¦‚ `export OPENAI_API_KEY="sk-..."`ï¼Œè¿™åœ¨æœåŠ¡å™¨éƒ¨ç½²æ—¶éå¸¸æœ‰ç”¨ã€‚

### 4. å‡†å¤‡çŸ¥è¯†åº“

å°†ä½ çš„ `.md` æ ¼å¼çš„çŸ¥è¯†åº“æ–‡æ¡£æ”¾å…¥ `knowledge_base` æ–‡ä»¶å¤¹ä¸­ã€‚

### 5. è¿è¡Œç¨‹åº

ç›´æ¥ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œä¸»ç¨‹åºæ–‡ä»¶å³å¯ã€‚

```bash
python main.py
```

**ç¨‹åºä¼šè‡ªåŠ¨å®Œæˆä»¥ä¸‹å·¥ä½œ:**
1.  **æ£€æŸ¥çŸ¥è¯†åº“**: å¦‚æœ `knowledge_base` ç›®å½•ä¸­æœ‰æ–°çš„æˆ–æ›´æ–°çš„æ–‡æ¡£ï¼Œç¨‹åºä¼šè‡ªåŠ¨è¿›è¡Œå‘é‡åŒ–å¹¶æ›´æ–° `data/employee_kb.pkl` æ–‡ä»¶ã€‚
2.  **å¯åŠ¨èŠå¤©**: ç›´æ¥è¿›å…¥äº¤äº’å¼èŠå¤©ä¼šè¯ã€‚

**å¸¸ç”¨å‘½ä»¤:**
-   è¾“å…¥ `/config` å¯ä»¥éšæ—¶æ‰“å¼€åŠ¨æ€é…ç½®èœå•ã€‚
-   è¾“å…¥ `/quit` æˆ– `exit` å¯ä»¥é€€å‡ºèŠå¤©ã€‚

---

<div align="center">

*ä½œè€…: Mison* Â· *è”ç³»é‚®ç®±: 1360962086@qq.com*

</div>
